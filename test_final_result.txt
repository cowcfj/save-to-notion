
> notion-smart-clipper@2.31.1 test
> jest --config jest.config.js

PASS tests/unit/background/handlers/saveHandlers.test.js
PASS tests/unit/performance/PerformanceOptimizer.comprehensive.test.js
PASS tests/unit/background/services/TabService.test.js (5.577 s)
PASS tests/unit/pageComplexityDetector.test.js
PASS tests/unit/content/content-script.integration.test.js
PASS tests/unit/background.notionApi.test.js
PASS tests/unit/highlighter/ui/Toolbar_coverage.test.js
PASS tests/unit/utils/RetryManager.comprehensive.test.js
PASS tests/unit/background/notion-api.test.js
PASS tests/unit/background/handlers/highlightHandlers.test.js
PASS tests/unit/background/background-exports.test.js
PASS tests/unit/content/content-script.require.test.js
PASS tests/unit/background/services/ImageService.test.js
PASS tests/unit/performance/PerformanceOptimizerAdvanced.test.js
PASS tests/unit/performance/PerformanceOptimizer.batchProcessing.test.js
PASS tests/unit/options/SearchableDatabaseSelector.test.js
PASS tests/unit/background/services/NotionService.test.js
PASS tests/unit/highlighter/highlight-interactions.test.js
PASS tests/unit/options/StorageManager.test.js
PASS tests/unit/content/extractors/MetadataExtractor.test.js
PASS tests/unit/background/handlers/actionHandlers.coverage.test.js
PASS tests/unit/content/cms-extraction.test.js
PASS tests/unit/background/background-errors.integration.test.js
PASS tests/unit/options/StorageManager_coverage.test.js
PASS tests/unit/content/extractors/ReadabilityAdapter.test.js
PASS tests/unit/popup.test.js
PASS tests/unit/highlighter/utils/StorageUtil.extended.test.js
PASS tests/unit/highlighter/core/HighlightManager.test.js
PASS tests/unit/content/extractors/NextJsExtractor.test.js
PASS tests/unit/imageUtils.utils.test.js
PASS tests/unit/content/extractors/ReadabilityAdapter.extended.test.js
PASS tests/unit/highlighter/core/StyleManager.test.js
PASS tests/integration/highlighter.integration.test.js
PASS tests/unit/utils/securityUtils.test.js
PASS tests/unit/background/image-processing.test.js
PASS tests/unit/utils/Logger.test.js
PASS tests/unit/content/content-index.test.js
PASS tests/unit/highlighter/highlighter-index.test.js
PASS tests/unit/imageUtils.boundary.test.js
PASS tests/unit/background.imageUtils.test.js
PASS tests/unit/background/core-functions.test.js
PASS tests/unit/popup/popupController.test.js
PASS tests/unit/backgroundUtils.test.js
PASS tests/unit/options/options.test.js
  ‚óè Console

    console.error
      Error: Not implemented: navigation (except hash changes)
          at module.exports (/Volumes/WD1TMac/code/notion-chrome/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
          at navigateFetch (/Volumes/WD1TMac/code/notion-chrome/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
          at exports.navigate (/Volumes/WD1TMac/code/notion-chrome/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
          at Timeout._onTimeout (/Volumes/WD1TMac/code/notion-chrome/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
          at listOnTimeout (node:internal/timers:605:17)
          at processTimers (node:internal/timers:541:7) {
        type: 'not implemented'
      }

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:91:27)

PASS tests/unit/storageUtil.test.js
PASS tests/unit/legacy/MigrationExecutor.test.js
PASS tests/unit/background/utils/BlockBuilder.test.js
PASS tests/unit/performance/PerformanceOptimizer.test.js
PASS tests/unit/options/MigrationTool.test.js
PASS tests/unit/background/tab-listeners.test.js
PASS tests/unit/highlighter/ui/Toolbar_list.test.js
PASS tests/unit/background/services/StorageService.test.js
PASS tests/unit/highlighter/utils/path.coverage.test.js
PASS tests/unit/highlighter/utils/validation.coverage.test.js
PASS tests/unit/highlighter/utils/dom.test.js
PASS tests/unit/splitTextForHighlight.test.js
PASS tests/unit/content/isContentGood.test.js
PASS tests/unit/options/UIManager.test.js
PASS tests/unit/background/notion-page-operations.test.js
PASS tests/unit/background/handlers/MessageHandler.test.js
PASS tests/unit/coverage/HandlersCoverage.test.js
PASS tests/unit/highlighter/core/Range.coverage.test.js
PASS tests/unit/options/DataSourceManager.test.js
PASS tests/unit/logger.test.js
PASS tests/unit/highlighter/ui/Toolbar_actions.test.js
PASS tests/unit/imageExtraction/imageUtils.test.js
PASS tests/unit/utils/uiUtils.test.js
PASS tests/unit/highlighter/utils/path.test.js
PASS tests/unit/background/services/PageContentService.test.js
PASS tests/unit/background.test.js
PASS tests/unit/options/AuthManager.test.js
PASS tests/unit/content/converters/DomConverter.coverage.test.js
(node:35658) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/unit/utils/urlUtils.test.js
PASS tests/unit/content/converters/DomConverter.test.js
PASS tests/unit/highlighter/utils/dom.coverage.test.js
PASS tests/unit/popup/popupUI.test.js
PASS tests/unit/performance/preloader.test.js
PASS tests/unit/options/MigrationScanner.test.js
PASS tests/unit/security/saveHandlers.security.test.js
PASS tests/unit/highlighter/ui/components/HighlightList.test.js
PASS tests/unit/highlighter/core/HighlightInteraction.test.js
PASS tests/unit/coverage/ContentCoverage.test.js
PASS tests/unit/highlighter/ui/components/ColorPicker.test.js
PASS tests/unit/highlighter/utils/domStability.coverage.test.js
PASS tests/unit/utils/RetryManager.test.js
PASS tests/unit/content/extractors/ReadabilityAdapter.smartCleaning.test.js
PASS tests/unit/background/services/InjectionService.test.js
PASS tests/unit/utils/LogBuffer.test.js
PASS tests/unit/background/storage-operations.test.js
PASS tests/unit/background/notification-handlers.test.js
PASS tests/unit/popup/popupActions.test.js
PASS tests/unit/background/update-highlights.test.js
PASS tests/unit/normalizeUrl.test.js
PASS tests/unit/content/converters/DomConverterNestedLinks.test.js
PASS tests/unit/utils.templateVars.test.js
PASS tests/unit/coverage/ImageUtilsCoverage.test.js
PASS tests/unit/highlighter/utils/domStability.test.js
PASS tests/unit/background/background-state.test.js
PASS tests/unit/utils.clearHighlights.improved.test.js
PASS tests/unit/highlighter/utils/textSearch.coverage.test.js
PASS tests/unit/background/handlers/migrationHandlers.test.js
PASS tests/unit/highlighter/core/HighlightMigration.test.js
PASS tests/unit/content/converters/ConverterFactory.test.js
PASS tests/unit/background/extension-lifecycle.test.js
PASS tests/unit/content/converters/ContentBridge.test.js
PASS tests/unit/utils/ErrorHandler.formatUserMessage.test.js
PASS tests/unit/highlighter/highlighter-storage-optimization.test.js
PASS tests/unit/logger.advanced.test.js
PASS tests/unit/coverage/ContentServiceCoverage.test.js
PASS tests/unit/utils/ErrorHandler.comprehensive.test.js
PASS tests/unit/background/background-require.integration.test.js
PASS tests/unit/highlighter/utils/textSearch.test.js
PASS tests/unit/config/env.test.js
PASS tests/unit/highlighter/utils/validation.test.js
PASS tests/unit/background/handlers/logHandlers.test.js
PASS tests/unit/background/services/MigrationService.test.js
PASS tests/unit/content/content-ping.test.js
PASS tests/unit/utils.dateFormat.test.js
PASS tests/unit/highlighter/core/Range.test.js
PASS tests/unit/config/patterns.test.js
PASS tests/unit/background/message-handlers.test.js
PASS tests/unit/highlighter/ui/components/HighlightList.security.test.js
PASS tests/unit/utils/LogSanitizer.test.js
PASS tests/unit/highlighter/core/HighlightStorage.test.js
PASS tests/unit/background/handlers/notionHandlers.test.js
PASS tests/unit/utils/LogExporter.test.js
PASS tests/unit/highlighter/ui/Toolbar_init.test.js
PASS tests/unit/highlighter/highlighter-path-compression.test.js
PASS tests/unit/highlighter/highlighter-dom-stability.test.js
PASS tests/unit/highlighter/ui/ToolbarState.test.js
PASS tests/unit/content/extractors/ContentExtractor.test.js
PASS tests/unit/utils/Logger.background.test.js
PASS tests/unit/background/buildHighlightBlocks.test.js
PASS tests/unit/background/processContentResult.test.js
PASS tests/unit/performance/PerformanceOptimizer.extra.test.js
PASS tests/unit/options/DataSourceManagerError.test.js
PASS tests/unit/background/exportDebugLogs.test.js
PASS tests/unit/background/handlers/notionHandlers_params.test.js
PASS tests/unit/highlighter/utils/color.coverage.test.js
PASS tests/unit/config/constants.test.js
PASS tests/unit/content/extractors/ImageCollector.test.js
PASS tests/unit/utils/RetryManager_Security.test.js
PASS tests/unit/utils/mergeUniqueImages.test.js
PASS tests/unit/background/services/NotionService_Parallel_Safety.test.js
PASS tests/unit/highlighter/utils/color.test.js

Test Suites: 145 passed, 145 total
Tests:       2 skipped, 2836 passed, 2838 total
Snapshots:   0 total
Time:        97.487 s
Ran all test suites.
